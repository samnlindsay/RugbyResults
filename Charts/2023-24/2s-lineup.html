<!DOCTYPE html>
<html>
<head>
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.17.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"opacity": 0.7, "axis": {"font": "Helvetica Neue, Helvetica, Arial, sans-serif", "labelFontSize": 14, "titleFontSize": 18}, "header": {"font": "Helvetica Neue, Helvetica, Arial, sans-serif", "labelFontSize": 18, "titleFontSize": 20, "labelFontWeight": "bold", "orient": "left"}, "legend": {"font": "Helvetica Neue, Helvetica, Arial, sans-serif", "labelFontSize": 14, "titleFontSize": 12, "titlePadding": 5, "fillColor": "white", "strokeColor": "black", "padding": 10, "titleFontWeight": "lighter", "titleFontStyle": "italic", "titleColor": "gray"}, "title": {"font": "Helvetica Neue, Helvetica, Arial, sans-serif", "fontSize": 24, "fontWeight": "bold", "anchor": "middle", "align": "center", "titlePadding": 20, "subtitlePadding": 10, "subtitleFontWeight": "lighter", "subtitleFontSize": 12, "subtitleColor": "gray", "subtitleFontStyle": "italic"}, "axisX": {"labelAngle": 0}, "facet": {"title": null, "header": {"title": null}, "font": "Helvetica Neue, Helvetica, Arial, sans-serif", "align": {"row": "each", "column": "all"}}, "resolve": {"scale": {"y": "independent", "facet": "independent"}}, "background": "aliceblue", "style": {"cell": {"stroke": "transparent"}}}, "layer": [{"mark": {"type": "rect", "align": "center", "color": "mediumseagreen", "fontSize": 32, "fontWeight": "bolder", "opacity": 0.1, "x": 590, "x2": "width", "y": 75, "y2": 300}}, {"mark": {"type": "text", "align": "center", "baseline": "middle", "color": "#139", "fontSize": 28, "fontWeight": "bold", "text": "Replacements", "x": 720, "y": 55}, "transform": [{"filter": {"equal": 1, "field": "Number"}}]}, {"layer": [{"mark": {"type": "point", "filled": true, "opacity": 1, "size": 3000}, "encoding": {"color": {"field": "Count", "legend": null, "scale": {"scheme": "blues", "zero": true}, "title": "Total 1st XV appearances", "type": "quantitative"}}}, {"mark": {"type": "point", "color": "darkblue", "filled": false, "opacity": 1, "size": 3000, "strokeWidth": 3}}], "encoding": {"x": {"axis": null, "field": "x", "scale": {"domain": [0, 100]}, "type": "quantitative"}, "y": {"axis": null, "field": "y", "scale": {"domain": [0, 100]}, "type": "quantitative"}}}, {"mark": {"type": "text", "align": "center", "color": "whitesmoke", "dy": 1, "fontSize": 32, "fontWeight": "bolder"}, "encoding": {"text": {"field": "Number", "type": "nominal"}, "x": {"axis": null, "field": "x", "type": "quantitative"}, "y": {"axis": null, "field": "y", "type": "quantitative"}}}, {"mark": {"type": "text", "align": "center", "color": "#000", "fontSize": 15, "fontWeight": "bold", "yOffset": 40}, "encoding": {"text": {"field": "Player", "type": "nominal"}, "x": {"axis": null, "field": "x", "type": "quantitative"}, "y": {"axis": null, "field": "y", "type": "quantitative"}}, "transform": [{"filter": {"field": "Number", "lt": 16}}]}, {"mark": {"type": "text", "align": "center", "color": "#000", "fontSize": 11, "opacity": 0.7, "yOffset": 56}, "encoding": {"text": {"field": "label_starts", "type": "nominal"}, "x": {"axis": null, "field": "x", "type": "quantitative"}, "y": {"axis": null, "field": "y", "type": "quantitative"}}, "transform": [{"filter": {"field": "Number", "lt": 16}}]}, {"mark": {"type": "text", "align": "center", "color": "#000", "fontSize": 10, "opacity": 0.7, "yOffset": 69}, "encoding": {"text": {"field": "label_total", "type": "nominal"}, "x": {"axis": null, "field": "x", "type": "quantitative"}, "y": {"axis": null, "field": "y", "type": "quantitative"}}, "transform": [{"filter": {"field": "Number", "lt": 16}}]}, {"mark": {"type": "text", "align": "left", "color": "#000", "fontSize": 16, "fontWeight": "bold", "xOffset": 40, "yOffset": -6}, "encoding": {"text": {"field": "Player", "type": "nominal"}, "x": {"axis": null, "field": "x", "type": "quantitative"}, "y": {"axis": null, "field": "y", "type": "quantitative"}}, "transform": [{"filter": {"field": "Number", "gte": 16}}]}, {"mark": {"type": "text", "align": "left", "color": "#000", "fontSize": 11, "opacity": 0.7, "xOffset": 40, "yOffset": 11}, "encoding": {"text": {"field": "label_bench", "type": "nominal"}, "x": {"axis": null, "field": "x", "type": "quantitative"}, "y": {"axis": null, "field": "y", "type": "quantitative"}}, "transform": [{"filter": {"field": "Number", "gte": 16}}]}], "background": "#6c6", "data": {"name": "data-3b9f46adeaeee313b7fd2f2555e86b97"}, "height": 850, "title": {"text": "2nd XV Team of the Season", "align": "center", "anchor": "middle", "color": "#139", "font": "Helvetica Neue, Helvetica, Arial, sans-serif", "fontSize": 36, "fontWeight": "bold", "offset": 20, "subtitle": ["Most appearances in each position (darker colour = more appearances)", "These players makes up 82% of all starting XVs over the season"], "subtitleFontSize": 14}, "transform": [{"calculate": "datum.Count_p + ' starts (' + datum.Position_x + ')'", "as": "label_starts"}, {"calculate": "datum.Count + ' games total'", "as": "label_total"}, {"calculate": "datum.Count + ' games (' + datum.Count_p + ' starts)'", "as": "label_bench"}], "width": 850, "$schema": "https://vega.github.io/schema/vega-lite/v5.17.0.json", "datasets": {"data-3b9f46adeaeee313b7fd2f2555e86b97": [{"Number": 1, "Position_x": "Prop", "Player": "Ben Watkinson", "Count_p": 9.0, "Position_y": "Prop", "x": 10, "y": 95, "Count": 10, "Position": NaN}, {"Number": 2, "Position_x": "Hooker", "Player": "George Beet", "Count_p": 11.0, "Position_y": "Hooker", "x": 25, "y": 95, "Count": 13, "Position": NaN}, {"Number": 3, "Position_x": "Prop", "Player": "George Naylor", "Count_p": 7.0, "Position_y": "Prop", "x": 40, "y": 95, "Count": 9, "Position": NaN}, {"Number": 4, "Position_x": "Second Row", "Player": "Tim Morris", "Count_p": 7.0, "Position_y": "Second Row", "x": 17, "y": 82, "Count": 11, "Position": NaN}, {"Number": 5, "Position_x": "Second Row", "Player": "Pete Morley", "Count_p": 11.0, "Position_y": "Second Row", "x": 33, "y": 82, "Count": 11, "Position": NaN}, {"Number": 6, "Position_x": "Back Row", "Player": "Harrison Berry", "Count_p": 11.0, "Position_y": "Back Row", "x": 6, "y": 72, "Count": 14, "Position": NaN}, {"Number": 7, "Position_x": "Back Row", "Player": "Rory Evans", "Count_p": 7.0, "Position_y": "Back Row", "x": 44, "y": 72, "Count": 12, "Position": NaN}, {"Number": 8, "Position_x": "Back Row", "Player": "Charlie Pullen", "Count_p": 7.0, "Position_y": "Back Row", "x": 25, "y": 67, "Count": 10, "Position": NaN}, {"Number": 9, "Position_x": "Scrum Half", "Player": "Chris Taylor", "Count_p": 7.0, "Position_y": "Scrum Half", "x": 25, "y": 50, "Count": 11, "Position": NaN}, {"Number": 10, "Position_x": "Fly Half", "Player": "Rhys Skinner", "Count_p": 7.0, "Position_y": "Fly Half", "x": 42, "y": 45, "Count": 11, "Position": NaN}, {"Number": 11, "Position_x": "Back Three", "Player": "Will Roberts", "Count_p": 13.0, "Position_y": "Back Three", "x": 8, "y": 20, "Count": 13, "Position": NaN}, {"Number": 12, "Position_x": "Centre", "Player": "Jack Andrews", "Count_p": 5.0, "Position_y": "Centre", "x": 59, "y": 38, "Count": 7, "Position": NaN}, {"Number": 13, "Position_x": "Centre", "Player": "Max Crawley-Moore", "Count_p": 6.0, "Position_y": "Centre", "x": 75, "y": 30, "Count": 6, "Position": NaN}, {"Number": 14, "Position_x": "Back Three", "Player": "Luke Maker", "Count_p": 8.0, "Position_y": "Back Three", "x": 92, "y": 20, "Count": 8, "Position": NaN}, {"Number": 15, "Position_x": "Back Three", "Player": "Stanley Kennett", "Count_p": 9.0, "Position_y": "Back Three", "x": 50, "y": 10, "Count": 11, "Position": NaN}, {"Number": 16, "Position_x": NaN, "Player": "Rob Salvi", "Count_p": 3.0, "Position_y": NaN, "x": 75, "y": 86, "Count": 10, "Position": null}, {"Number": 17, "Position_x": NaN, "Player": "Tom Byron", "Count_p": 4.0, "Position_y": NaN, "x": 75, "y": 78, "Count": 8, "Position": null}, {"Number": 18, "Position_x": NaN, "Player": "Scott Devlin", "Count_p": 4.0, "Position_y": NaN, "x": 75, "y": 70, "Count": 10, "Position": null}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>